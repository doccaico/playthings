{"version":3,"sources":["Config.js","Board.js","Button.js","Selector.js","Game.js","index.js"],"names":["options","label","h","w","func","line","Array","i","fill","j","getRandomInt","exp","convertPattern","defaultConfigIndex","defaultBoard","board","s","length","push","split","map","Number","unshift","ceil","floor","min","Math","max","random","Board","props","state","renderBoard","bind","len","this","className","key","lines","row","newState","setState","id","React","Component","Button","isRun","sendRun","sendPause","sendRecreate","inRun","run","pause","reCreate","onClick","disabled","Selector","onChange","e","changeBoard","target","selectedIndex","opt","index","value","Game","configIndex","interval","main","createRef","newConfigIndex","newConfig","current","update","clearInterval","config","newBoard","setInterval","new_state","getBoard","around_state","around_check","current_state","next_generation","ref","ReactDOM","render","document","getElementById"],"mappings":"qOAAaA,EAAU,CACrB,CAACC,MAAO,SACNC,EAAG,GACHC,EAAG,GACHC,KAyCJ,SAAwBF,EAAGC,GAOzB,IALA,IAIIE,EAAOC,MAAMJ,EAAE,GACVK,EAAE,EAAGA,EAAEL,EAAE,EAAGK,IACnBF,EAAKE,GAAKD,MAAMH,EAAE,GAAGK,KAAK,GAG5B,IAAK,IAAID,EAAE,EAAGA,EAAEL,EAAE,EAAGK,IACnB,IAAK,IAAIE,EAAE,EAAGA,EAAEN,EAAE,EAAGM,IACnBJ,EAAKE,GAAGE,GACL,GAAKC,EAZO,EACA,IAWgC,EAAI,EAGvD,OAAOL,GAzDLM,IAAK,sEAEP,CAACV,MACC,oBACAC,EAAG,GACHC,EAAG,GACHC,KAsDJ,SAAqBF,EAAGC,GA8BtB,OAAOS,EA7BS,CAClB,0CACA,0CACA,0CACA,0CACA,0CACA,0CACA,0CACA,0CACA,0CACA,0CACA,0CACA,0CACA,0CACA,0CACA,0CACA,0CACA,0CACA,0CACA,0CACA,0CACA,0CACA,0CACA,0CACA,0CACA,0CACA,0CACA,6CAjFID,IAAK,iEACP,CAACV,MAAO,OACNC,EAAG,EACHC,EAAG,GACHC,KAkFJ,SAAqBF,EAAGC,GAStB,OAAOS,EARS,CAClB,+CACA,+CACA,+CACA,+CACA,+CACA,kDAxFID,IAAK,0EACP,CAACV,MAAO,QACNC,EAAG,GACHC,EAAG,GACHC,KAyFJ,SAAqBF,EAAGC,GA4BtB,OAAOS,EA3BS,CAClB,yCACA,yCACA,yCACA,yCACA,yCACA,yCACA,yCACA,yCACA,yCACA,yCACA,yCACA,yCACA,yCACA,yCACA,yCACA,yCACA,yCACA,yCACA,yCACA,yCACA,yCACA,yCACA,yCACA,yCACA,4CAlHID,IAAK,iEACP,CAACV,MAAO,oBACNC,EAAG,GACHC,EAAG,GACHC,KAmHJ,SAAgCF,EAAGC,GA8BjC,OAAOS,EA7BS,CAClB,oCACA,oCACA,oCACA,oCACA,oCACA,oCACA,oCACA,oCACA,oCACA,oCACA,oCACA,oCACA,oCACA,oCACA,oCACA,oCACA,oCACA,oCACA,oCACA,oCACA,oCACA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","file":"static/js/main.8cf94d3a.chunk.js","sourcesContent":["export const options = [\n  {label: 'Random',\n    h: 45,\n    w: 45,\n    func: patternRandom,\n    exp: '生セルをランダムに配置'\n  },\n  {label:\n    'Gosper Glider Gun',\n    h: 27,\n    w: 39,\n    func: patternGun,\n    exp: '発見者: Bill Gosper、発見年: 1970'},\n  {label: 'Ants',\n    h: 6,\n    w: 44,\n    func: patternAnts,\n    exp: '発見者: 不明、発見年: 不明'},\n  {label: 'AK-94',\n    h: 25,\n    w: 38,\n    func: patternAK74,\n    exp: '発見者: Mike Playle、発見年: 2013'},\n  {label: 'Simkin Glider Gun',\n    h: 27,\n    w: 33,\n    func: patternSimkinGliderGun,\n    exp: '発見者: Michael Simkin、発見年: 2015'},\n  {label: 'Period-45 glider gun',\n    h: 40,\n    w: 48,\n    func: patternPeriod45GliderGun,\n    exp: '発見者: Matthias Merzenich、発見年: 2010'},\n]\n\nexport const defaultConfigIndex = 0\nexport const defaultBoard = {\n  board: options[defaultConfigIndex].func(options[defaultConfigIndex].h, options[defaultConfigIndex].w),\n  h: options[defaultConfigIndex].h,\n  w: options[defaultConfigIndex].w\n}\n\n\n// patterns\n\nfunction patternRandom (h, w){\n\n  const random_min = 0;\n  const random_max = 10;\n\n  // fill with 0\n  let line = Array(h+2)\n  for (let i=0; i<h+2; i++) {\n    line[i] = Array(w+2).fill(0)\n  }\n\n  for (let i=1; i<h+1; i++) {\n    for (let j=1; j<w+1; j++) {\n      line[i][j] =\n        (7 <= getRandomInt(random_min, random_max) ? 1 : 0);\n    }\n  }\n  return line;\n}\n\nfunction patternGun (h, w) {\n  const pattern = [\n'000000000000000000000000000000000000000',\n'000000000000000000000000010000000000000',\n'000000000000000000000001010000000000000',\n'000000000000011000000110000000000001100',\n'000000000000100010000110000000000001100',\n'011000000001000001000110000000000000000',\n'011000000001000101100001010000000000000',\n'000000000001000001000000010000000000000',\n'000000000000100010000000000000000000000',\n'000000000000011000000000000000000000000',\n'000000000000000000000000000000000000000',\n'000000000000000000000000000000000000000',\n'000000000000000000000000000000000000000',\n'000000000000000000000000000000000000000',\n'000000000000000000000000000000000000000',\n'000000000000000000000000000000000000000',\n'000000000000000000000000000000000000000',\n'000000000000000000000000000000000000000',\n'000000000000000000000000000000000000000',\n'000000000000000000000000000000000000000',\n'000000000000000000000000001100000000000',\n'000000000000000000000000001100010000000',\n'000000000000000000000000000000101000000',\n'000000000000000000000000000000010100000',\n'000000000000000000000000000000000100000',\n'000000000000000000000000000000000110000',\n'000000000000000000000000000000000000000',\n  ]\n  return convertPattern(pattern)\n}\n\nfunction patternAnts(h, w) {\n  const pattern = [\n'00000000000000000000000000000000000000000000',\n'11000110001100011000110001100011000110001100',\n'00110001100011000110001100011000110001100011',\n'00110001100011000110001100011000110001100011',\n'11000110001100011000110001100011000110001100',\n'00000000000000000000000000000000000000000000',\n]\n  return convertPattern(pattern)\n}\n\nfunction patternAK74(h, w) {\n  const pattern = [\n'00000001000000010000000110000000000000', \n'00000001110000011100000110000000000000',\n'00000000001000000010000000000000000000',\n'00000000011000000110000000000000000110',\n'00000000000000000000000000000011001001',\n'00000000000000000000000000000010100110',\n'00000000000000000000000000000000011000',\n'00000100000000000000000000000000001000',\n'00000111000000000000000000000000001011',\n'00000000100000000000000000000001101001',\n'00000001100000000000000000000001101100',\n'00000000000000000000000000000000000000',\n'00000000000000000000000000000000000000',\n'00000000000000000100000000000000000000',\n'00110110000000001010000000000110000000',\n'10010110000000010001000000000100000000',\n'11010000000000010001000000000011100000',\n'00010000000000010001000000000000100000',\n'00011000000000001010000000000000000000',\n'01100101000000000100000000000000000000',\n'10010011000000000000000000000000000000',\n'01100000000000000001100000000000000000',\n'00000000000000000001000000000000000000',\n'00000000000001100000111000000000000000',\n'00000000000001100000001000000000000000',\n  ]\n  return convertPattern(pattern)\n}\n\nfunction patternSimkinGliderGun(h, w) {\n  const pattern = [\n'000000000000000000000000000000000',\n'000000000000000000000000000000000',\n'000000000000000000000000000000000',\n'000000000000000000000000000000000',\n'000000000000000000000000000000000',\n'000000000000000000000000000000000',\n'000000000000000000000000000000000',\n'110000011000000000000000000000000', \n'110000011000000000000000000000000',\n'000000000000000000000000000000000',\n'000011000000000000000000000000000',\n'000011000000000000000000000000000',\n'000000000000000000000000000000000',\n'000000000000000000000000000000000',\n'000000000000000000000000000000000',\n'000000000000000000000000000000000',\n'000000000000000000000010001000000',\n'000000000000000000000100001100000',\n'000000000000000000001100000110011',\n'000000000000000000000110000100011',\n'000000000000000000000010000000000',\n'000000000000000000000000000000000',\n'000000000000000000000000000000000',\n'000000000000000000000000000000000',\n'000000000000000000000000000000000',\n'000000000000000000000000000000000',\n'000000000000000000000000000000000',\n  ]\n  return convertPattern(pattern)\n}\n\nfunction patternPeriod45GliderGun(h, w) {\n  const pattern = [\n'000000000000000100100100000000000000000000000000', \n'000000000000000111111100000000000000000000000000',\n'000000000000000000000000000000000000000000000000',\n'000000000000000111111100000000000000000000000000',\n'000000000000000100100100000000000000000000000000',\n'000000000000000000000000000000000000000000000000',\n'000000000000000000000000000000000000000000000000',\n'000000000000000000000000000000000000000000000000',\n'000000000000000000000000000000000000000000000000',\n'000000000000000000000000000000000000000000000000',\n'000000000000000010010000000000000000000000000000',\n'000000000000110010010000000000000000000000000000',\n'000000000000110010010000000110000000000000000000',\n'000000000000000000000000000110000110001001000110',\n'000000000000000000000000000000000111110000111110',\n'000000000000000000000000000000000110001001000110',\n'000000000000000000000000000111000000000000000000',\n'000000000000000000000000000000000000000000000000',\n'110110000000000000000000000000000000000000000000',\n'010100000000000000000000000111000000000000000000',\n'010100000011100000000000000000000000000000000000',\n'110110000000000000000000000000000010100000000000',\n'010100000000000000000000000000000001100000000000',\n'010100000011100000000000000000000001000000000000',\n'110110000000000000000000000000000000000000000000',\n'000000000000000000000000000000000000000000000000',\n'000000000001100000000000000000000000000000000000',\n'000000000001100000001001001100000000000000000000',\n'000000000000000000001001001100000000000000000000',\n'000000000000000000001001000000000000000000000000',\n'000000000000000000000000000000000000000000000000',\n'000000000000000000000000000000000000000000000000',\n'000000000000000000000000000000000000000000000001',\n'000000000000000000000000000000000000000000000101',\n'000000000000000000000000000000000000000000000011',\n'000000000000000000100100100000000000000000000000',\n'000000000000000000111111100000000000000000000000',\n'000000000000000000000000000000000000000000000000',\n'000000000000000000111111100000000000000000000000',\n'000000000000000000100100100000000000000000000000',\n  ]\n  return convertPattern(pattern)\n}\n\n// utils\n\nfunction convertPattern(s) {\n\n  var line = []\n  for (let i=0; i<s.length; i++){\n    line.push(s[i].split('').map(s => Number(s)));\n  }\n  // wrap 0\n  line.push(Array(s.length).fill(0))\n  line.unshift(Array(s[0].length).fill(0))\n  for (let i=0; i<line.length; i++){\n    line[i].unshift(0);\n    line[i].push(0);\n  }\n  return line\n}\n\nfunction getRandomInt(ceil, floor) {\n  const min = Math.ceil(ceil);\n  const max = Math.floor(floor);\n  return Math.floor(Math.random() * (max - min)) + min;\n}\n\n//\n// (GIF用)\n// 色をランダムに変更する関数(後で追加するかは不明)\n//\n// const resetColor = () => {\n//   var style = document.createElement('style');\n//   style.innerHTML = `\n//       .cell.life { background: green;}`;\n//   document.head.appendChild(style);\n// }\n//\n// var randomColor = function() {\n//   var i = 0;\n//   const colors = [\n//     'black', 'aliceblue', 'darkcyan', 'lightyellow', 'coral',\n//     'gray', 'lightsteelblue', 'darkslategray', 'lemonchiffon', 'orangered',\n//     'silver', 'slategray', 'green', 'burlywood', 'crimson',\n//     'green',\n//   ]\n//\n//   return function() {\n//     p(i)\n//     var style = document.createElement('style');\n//     style.innerHTML = `\n//       .cell.life { background: ${colors[i]};}`;\n//     document.head.appendChild(style);\n//     if (i === colors.length-1) {\n//       i = 0\n//     } else {\n//       i++;\n//     }\n//   };\n// }();\n","import React from 'react'\n\nimport { defaultBoard } from './Config'\n\n\nclass Board extends React.Component {\n\n  constructor(props) {\n    super(props)\n    this.state = defaultBoard\n    this.renderBoard = this.renderBoard.bind(this)\n  }\n\n  row(h) {\n    let len = this.state.w+1\n    var line = Array(len)\n    for (let i=1; i<len; i++) {\n      line[i] = (\n        <button\n          className={`cell + ${this.state.board[h][i] ? 'life':''}`}\n          key={(h*i)+i}\n        >\n        </button>\n      )\n    }\n    return (\n      <div className=\"board-row\" key={h}>{line}</div>\n    )\n  }\n\n  renderBoard() {\n    var lines = Array(this.state.h+1)\n    for (let i=1; i<this.state.h+1; i++) {\n      // p(this.state.h+1)\n      lines[i] = this.row(i)\n    }\n    return lines\n  }\n\n  getBoard(){\n    return this.state.board\n  }\n\n  update(newState) {\n    this.setState(newState)\n  }\n\n  render() {\n    // p(\"[Board] render\")\n    return (\n      <div id=\"game-board\">\n        <div>\n        {this.renderBoard()}\n        </div>\n      </div>\n    )\n  }\n\n}\n\nexport default Board\n","import React from 'react'\n\n\nclass Button extends React.Component {\n\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isRun: false\n    };\n    this.sendRun = this.sendRun.bind(this)\n    this.sendPause = this.sendPause.bind(this)\n    this.sendRecreate = this.sendRecreate.bind(this)\n  }\n\n  sendRun() {\n    this.setState({\n      isRun: !(this.state.inRun)\n    })\n    this.props.run()\n  }\n\n  sendPause () {\n    this.setState({\n      isRun: false\n    })\n    this.props.pause()\n  }\n\n  sendRecreate () {\n    this.setState({\n      isRun: false\n    })\n    this.props.reCreate()\n  }\n\n  render () {\n    // p(\"[Button] render\");\n    return (\n      <div>\n        <button\n          onClick={this.sendRun}\n          disabled={this.state.isRun}\n        >Run\n        </button>\n        <button\n          onClick={this.sendPause}\n        >Pause\n        </button>\n        <button\n          onClick={this.sendRecreate}\n        >Recreate\n        </button>\n      </div>\n    )\n  }\n}\n\nexport default Button;\n","import React from 'react';\n\nimport { options } from './Config';\n\nclass Selector extends React.Component {\n\n  render() {\n    // p(\"[Selector] render\")\n    return (\n      <div className=\"dropdown\">\n        <select\n          onChange={\n            (e) => this.props.changeBoard(e.target.selectedIndex)\n          }>\n          {options.map((opt, index) => (\n            <option\n              key={index}\n              value={opt}\n            >{opt.label}</option>\n          ))}\n        </select>\n        <div className=\"exp\">\n          {this.props.exp}\n        </div>\n      </div>\n    );\n  }\n\n}\n\nexport default Selector\n","import React from 'react'\n\nimport Board from './Board'\nimport Button from './Button'\nimport Selector from './Selector'\nimport { options, defaultConfigIndex } from './Config'\n\n\nclass Game extends React.Component {\n\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      configIndex: defaultConfigIndex\n    };\n\n    this.interval = null\n    this.changeBoard = this.changeBoard.bind(this)\n    this.run = this.run.bind(this)\n    this.pause = this.pause.bind(this)\n    this.reCreate = this.reCreate.bind(this)\n    this.main = this.main.bind(this)\n    this.board = React.createRef();\n  }\n\n  // componentDidMount() {\n  //   p(\"[Game] componentDidMount\");\n  // }\n\n  changeBoard (newConfigIndex) {\n    const newConfig = options[newConfigIndex]\n\n    let board = newConfig.func(\n      newConfig.h, newConfig.w)\n    this.setState({ configIndex: newConfigIndex })\n    this.board.current.update({\n      board: board,\n      h: newConfig.h,\n      w: newConfig.w\n    })\n  }\n\n  reCreate () {\n    // p(\"[Game] reCreate\");\n    clearInterval(this.interval)\n    const config = options[this.state.configIndex]\n    let newBoard = config.func(config.h, config.w)\n    this.board.current.update({\n      board: newBoard\n    })\n  }\n\n  pause () {\n    // p(\"[Game] pause\");\n    clearInterval(this.interval)\n  }\n\n  run (){\n    // p(\"[Game] run\");\n    if (this.interval) {\n      // 2重起動防止\n      clearInterval(this.interval)\n    }\n    this.interval = setInterval(this.main, 150);\n    // this.interval = setInterval(this.main, 1300);\n  }\n\n\n  //\n  // main\n  //\n\n  next_generation() {\n    const h = options[this.state.configIndex].h\n    const w = options[this.state.configIndex].w\n\n    // fill with 0\n    let newBoard = Array(h+2)\n    for (let i=0; i<h+2; i++) {\n      newBoard[i] = Array(w+2).fill(0)\n    }\n\n    for (let i=1; i < h+1; i++) {\n      for (let j=1; j < w+1; j++) {\n        newBoard[i][j] = this.new_state(i, j)\n      }\n    }\n    return newBoard\n  }\n\n  new_state(i, j) {\n    const board = this.board.current.getBoard()\n    const around_state = this.around_check(i, j)\n    const current_state = board[i][j]\n\n    if (current_state === 0) {\n      return (around_state === 3) ? 1 : 0\n    }\n    if (current_state === 1 && around_state <= 1) {\n      return 0\n    } else {\n      return (around_state >= 4) ? 0 : 1\n    }\n\n  }\n\n  around_check(i, j) {\n    const board = this.board.current.getBoard()\n    return (\n      board[  i][j-1] +\n      board[i-1][j-1] +\n      board[i-1][  j] +\n      board[i-1][j+1] +\n      board[  i][j+1] +\n      board[i+1][j+1] +\n      board[i+1][  j] +\n      board[i+1][j-1]\n    )\n  }\n\n  main () {\n    this.board.current.update({\n      board: this.next_generation()\n    })\n  }\n\n  render() {\n    // p(\"[Game] render\")\n    const exp = options[this.state.configIndex].exp\n\n    return (\n      <div className=\"game\">\n        <h1>Conway's Game of Life</h1>\n        <div className=\"board\">\n          <Board\n            ref={this.board}\n            changeBoard={this.changeBoard}\n          />\n        </div>\n        <div className=\"game-info\"></div>\n        <div className=\"ctrl\">\n        <Button\n          pause={this.pause}\n          run={this.run}\n          reCreate={this.reCreate}\n        /></div>\n        <Selector changeBoard={this.changeBoard} exp={exp}/>\n      </div>\n    );\n  }\n\n}\n\nexport default Game;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport Game from './Game';\nimport './index.css';\n\nReactDOM.render(\n  <Game />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}